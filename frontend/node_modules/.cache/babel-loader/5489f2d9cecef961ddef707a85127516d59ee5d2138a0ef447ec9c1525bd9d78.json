{"ast":null,"code":"import _toConsumableArray from\"/Users/user/Desktop/Development/groupmovieapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/user/Desktop/Development/groupmovieapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Display from'./Display';import WatchList from'./WatchList';import{Routes,Route}from'react-router-dom';import SingleMovie from'./SingleMovie';import Landing from'./Landing';import NavBar from'./NavBar';import AddMovie from'./AddMovie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Renderitems(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),watchlist=_useState4[0],setWatchlist=_useState4[1];var AddtoWatchlist=function AddtoWatchlist(movie){var newwatchList=watchlist.filter(function(b){return b.id!==movie.id;});setWatchlist([].concat(_toConsumableArray(newwatchList),[movie]));};var removefromWatchlist=function removefromWatchlist(movie){var newwatchList=watchlist.filter(function(b){return b.id!==movie.id;});setWatchlist(newwatchList);};useEffect(function(){fetch(\"https://movies-csku.onrender.com/movies\").then(function(res){return res.json();}).then(function(data){setMovies(data);});},[]);function handleDelete(id){fetch(\"https://movies-csku.onrender.com/movies/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});setMovies(movies.filter(function(movie){return movie.id!==id;}));setWatchlist(watchlist.filter(function(movie){return movie.id!==id;}));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{movies:movies,setMovies:setMovies}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"watch\",element:/*#__PURE__*/_jsx(WatchList,{watchlist:watchlist,setWatchlist:setWatchlist,removefromWatchlist:removefromWatchlist,handleDelete:handleDelete})}),/*#__PURE__*/_jsx(Route,{path:\"addmovie\",element:/*#__PURE__*/_jsx(AddMovie,{})}),/*#__PURE__*/_jsx(Route,{path:\"home\",element:/*#__PURE__*/_jsx(Display,{movies:movies,setMovies:setMovies,AddtoWatchlist:AddtoWatchlist}),children:/*#__PURE__*/_jsx(Route,{path:\"movie/:id\",element:/*#__PURE__*/_jsx(SingleMovie,{AddtoWatchlist:AddtoWatchlist})})})]})]});}export default Renderitems;","map":{"version":3,"names":["React","useState","useEffect","Display","WatchList","Routes","Route","SingleMovie","Landing","NavBar","AddMovie","jsx","_jsx","jsxs","_jsxs","Renderitems","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","watchlist","setWatchlist","AddtoWatchlist","movie","newwatchList","filter","b","id","concat","_toConsumableArray","removefromWatchlist","fetch","then","res","json","data","handleDelete","method","headers","children","exact","path","element"],"sources":["/Users/user/Desktop/Development/groupmovieapp/src/components/Renderitems.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport Display from './Display'\nimport WatchList from './WatchList'\nimport {Routes,Route} from 'react-router-dom'\nimport SingleMovie from './SingleMovie'\nimport Landing from './Landing'\nimport NavBar from './NavBar'\nimport AddMovie from './AddMovie'\n\n\nfunction Renderitems() {\nconst [movies, setMovies] =useState([])\nconst [watchlist,setWatchlist]=useState([])\n\nconst AddtoWatchlist = (movie) => {\n    const newwatchList = watchlist.filter((b) => b.id !== movie.id);\n    setWatchlist([...newwatchList, movie]);\n  };\n  \n  const removefromWatchlist = (movie) => {\n    const newwatchList = watchlist.filter((b) => b.id !== movie.id);\n    setWatchlist(newwatchList);\n  };\n\nuseEffect(()=>{\n    fetch(\"https://movies-csku.onrender.com/movies\")\n    .then(res => res.json())\n    .then(data=>{\n        setMovies(data)\n    })\n\n},[])\n\nfunction handleDelete(id){\n  fetch(`https://movies-csku.onrender.com/movies/${id}`,{\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }, \n  })\n  setMovies(movies.filter((movie) => movie.id !== id));\n  setWatchlist(watchlist.filter((movie) => movie.id !== id))\n}\n  return (\n    <div>\n      <NavBar movies={movies} setMovies={setMovies}/>\n     <Routes>\n    <Route exact path='/' element={<Landing />}/>\n   \n    <Route path=\"watch\" element={<WatchList watchlist={watchlist} setWatchlist={setWatchlist} removefromWatchlist={removefromWatchlist} handleDelete={handleDelete}/> }/>\n   <Route path='addmovie' element={<AddMovie />}/>\n    <Route path=\"home\" element={<Display movies={movies} setMovies={setMovies} AddtoWatchlist={AddtoWatchlist}/>}>\n      \n     <Route path=\"movie/:id\" element={< SingleMovie AddtoWatchlist={AddtoWatchlist} />} />\n   </Route>\n    </Routes>\n         \n    </div>\n  )\n}\n\nexport default Renderitems"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}